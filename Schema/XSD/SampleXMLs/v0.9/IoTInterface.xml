<?xml version="1.0" encoding="UTF-8"?>
<mret:Project
	xmlns:mret="http://www.nasa.gov/MRET"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns:xi="http://www.w3.org/2001/XInclude"
	xsi:schemaLocation="http://www.nasa.gov/MRET ../../SchemaFiles/v0.9/Project.xsd">

	<Description>IoT Interface Example</Description>
	<Environment version="0.9" xmlns="">
		<Asset>
		    <AssetName>MRETTutorialScene</AssetName>
		    <AssetBundle>standard-scenes</AssetBundle>
		</Asset>
		<SkyBox>
            <!--
            <Asset>
                <AssetName>DSB</AssetName>
                <AssetBundle>standard-skyboxes</AssetBundle>
            </Asset>
            -->
            <Color>Black</Color>
<!--
            <RGBA>
	            <R>0</R>
	            <G>0</G>
	            <B>0</B>
            </RGBA>
-->
		</SkyBox>
	</Environment>
    <UserTransform>
	    <Position/>
	    <QRotation/>
	    <Scale>
	        <X>1.0</X>
	        <Y>1.0</Y>
	        <Z>1.0</Z>
	    </Scale>
    </UserTransform>
	<Content version="0.9" xmlns="">
	   <IoTThings>
	       <Thing ID="id-iotthing1" version="0.9" xmlns="">
	           <Name>Thing1</Name>
	           <Payload>
                   <!-- Float value with a threshold -->
	               <Value>
			           <Type>float</Type>
			           <Thresholds>
    			           <!-- Default color -->
			               <Color>Yellow</Color>
			               <Threshold>
                               <Low>100</Low>
			                   <High>100</High>
			                   <Color>Blue</Color>
			               </Threshold>
			           </Thresholds>
	               </Value>
	           </Payload>
	       </Thing>
           <Thing ID="id-iotthing2" version="0.9" xmlns="">
               <Name>Thing2</Name>
               <Payload>
                   <!-- JSON response -->
			       <Pairs>
                       <!-- Key/Value pairs with multiple thresholds -->
			           <Pair>
			               <Key>temperature</Key>
			               <Value>
			                   <Type>float</Type>
			                   <Thresholds>
                                   <!-- Default color not specified so defaults to black -->
                                   <Threshold>
                                       <!-- Low is (-)infinity -->
                                       <High>40</High>
                                       <Color>Blue</Color>
                                   </Threshold>
                                   <Threshold>
                                       <Low>40</Low>
                                       <High>72</High>
                                       <Color>Green</Color>
                                   </Threshold>
			                       <Threshold>
			                           <Low>72</Low>
                                       <High>100</High>
			                           <Color>Yellow</Color>
			                       </Threshold>
                                   <Threshold>
                                       <Low>100</Low>
                                       <Color>Red</Color>
                                   </Threshold>
			                   </Thresholds>
			               </Value>
			           </Pair>
                       <Pair>
                           <Key>voltage</Key>
                           <Value>
                               <Type>float</Type>
                               <Thresholds>
                                   <!-- Default color not specified so defaults to black -->
                                   <Threshold>
                                       <Low>110</Low>
                                       <High>120</High>
                                       <Color>Green</Color>
                                   </Threshold>
                                   <Threshold>
                                       <Low>120</Low>
                                       <High>140</High>
                                       <Color>Red</Color>
                                   </Threshold>
                               </Thresholds>
                           </Value>
                       </Pair>
			       </Pairs>
               </Payload>
           </Thing>
           <Thing ID="id-iotthing3" version="0.9" xmlns="">
               <Name>Thing3</Name>
               <Payload>
                   <!-- String default, no thresholds -->
                   <Value/>
               </Payload>
           </Thing>
	   </IoTThings>
	</Content>
	<Interfaces xmlns="">
	
        <!-- Examples of interfaces to show how to specify server and client certificates -->
	    <Interface ID="id-iot1" xsi:type="mret:IoTInterfaceType" version="0.9" xmlns="">
	        <Name>Refrigerator</Name>
            <Description>My Refrigerator</Description>
	        <Server>127.0.0.1</Server>
            <Port>8883</Port>
            <!-- Server and client certificates both specified -->
            <Certificates>
	            <ServerCertificate>
	                [Enter CA registered certificate Here]
	            </ServerCertificate>
	            <ClientCertificate>
	                [Enter CA issued (signed) certificate Here]
	            </ClientCertificate>
            </Certificates>
            <Topics>
                <Topic ThingID="id-iotthing1" pattern="/home/refrigerator"/>
            </Topics>
	    </Interface>
	    <Interface ID="id-iot2" xsi:type="mret:IoTInterfaceType" version="0.9" xmlns="">
            <Name>Thermostat</Name>
            <Description>My Thermostat</Description>
            <Server>127.0.0.1</Server>
            <Port>8883</Port>
            <!-- No server or client certificates specified so lookup from default files -->
            <Topics>
                <Topic ThingID="id-iotthing2" pattern="/home/thermostat"/>
            </Topics>
        </Interface>
        <Interface ID="id-iot3" xsi:type="mret:IoTInterfaceType" version="0.9" xmlns="">
            <Name>Home</Name>
            <Description>My Home Things</Description>
            <Server>127.0.0.1</Server>
            <Port>8883</Port>
            <!-- No server or client certificates specified so lookup from specified files -->
            <Certificates>
	            <ServerCertificateFile>./myServerFile</ServerCertificateFile>
	            <ClientCertificateFile>./myClientFile</ClientCertificateFile>
            </Certificates>
            <Topics>
                <Topic ThingID="id-iotthing3" pattern="/home/television"/>
            </Topics>
        </Interface>
        
        <!-- Examples of interfaces to show how to specify topics -->        
        <Interface ID="id-iot4" xsi:type="mret:IoTInterfaceType" version="0.9" xmlns="">
            <Name>All</Name>
            <Description>All Things</Description>
            <Server>127.0.0.1</Server>
            <Port>8883</Port>
            <!-- All topics on the server with received payloads processed as string data -->
            <Topics>
                <Topic/>
            </Topics>
        </Interface>
        
    </Interfaces>
</mret:Project>
